# Løkker, lister og ordbøker

Løkker, lister og ordbøker er veldig viktig i databehandling, derfor tar vi en liten repetisjon fra IT1.

## Løkker

<iframe width="100%" height="500" src="https://www.youtube.com/embed/mgooqyWMTxk?start=0&end=37" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## While-løkker

While-løkker kjører "så lenge" en betingelse er sann.

```python
while betingelse:
    # kode som gjennomføres så lenge betingelsen er sann
```

For eksempel bruker programmet under en while-løkke for å telle ned fra 5, og deretter si "lift off!":

<iframe width="100%" height="350" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=n%20%3D%205%0Awhile%20n%20%3E%200%3A%0A%20%20%20%20print%28n%29%0A%20%20%20%20n%20-%3D%201%0Aprint%28%22Lift%20off!%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>


While-løkker brukes som oftest når vi ikke vet hvor lenge vi skal holde på.
For eksempel helt til en spiller dør i et spill, eller så lenge spilleren ikke har gjettet riktig, som i eksemplet under.

```python
import random

hemmelig = random.randint(1,100) # trekker et tilfeldig tall fra 1 til 100
gjett = int(input("Hvilket tall tenker jeg på? 1-100: ")) # henter input fra bruker og lagre den i variabelen gjett

while hemmelig != gjett: # så lenge hemmelig ikke er lik gjett
    gjett = int(input("Feil, prøv igjen! 1-100: ")) # hent ny input fra bruker og oppdater variabelen gjett

print("Riktig!") # while-løkken er ferdig, som betyr at brukeren har gjettet riktig
```

### Uendelige løkker

While-løkkene kjører så lenge betingelsen er sann (`True`).
Hvis betingelsen aldri blir usann (`False`), vil en løkke kjøre for alltid.
Hvis vi ender opp i en uendelig løkke vil PCen fryse, og vi får ikke kjørt resten av programmet.

> Tips: `ctrl` + `c` stopper programmet i terminalen.

**Eksempel 1**:

```python
while True:
    print("Inn i evigheten!")
```

**Eksempel 2**:

```python
n = 20
while n > 0:
    print(n)
```

## For-løkker

En for-løkke er en løkke som kan brukes for å gå gjennom *ting*, for eksempel kan vi bruke en for-løkke for å gå gjennom hver bokstav i en tekst, hver *ting* i en liste eller hvert opplslagsord i en ordbok.

Koden under bruker en for-løkke og går gjennom hver bokstav i teksten `Ja, vi elsker` og teller antall mellomrom.

<iframe width="100%" height="340" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=antall_mellomrom%20%3D%200%0Afor%20bokstav%20in%20%22Ja,%20vi%20elsker%22%3A%0A%20%20%20%20if%20bokstav%20%3D%3D%20%22%20%22%3A%0A%20%20%20%20%20%20%20%20antall_mellomrom%20%2B%3D%201%0Aprint%28antall_mellomrom%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=311&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

Inne i en for-løkke lages en variabel, for eksempel `bokstav`.
For hver runde i løkken oppdateres variabelsen verdi, i eksempelene over har variabelen `bokstav` først verdien `"J"`, så `"a"`, så `","`, så `" "` og så videre.
Følg med på hva som skjer i minnet (global frame) i eksempelet over.

Vi kan også bruke for-løkker for å gå gjennom lister.
Da vil variabelen vi oppretter i løkken få verdiene til hvert element i listen, en verdi om gangen.
Legg merke til hvilke verdier variabelen `elev` har i eksempelet under.

> En liste i python skrives mellom firkantparenteser `["dette", "er", "en", "liste"]`.  
> Firkantparenteser skrives med `option/alt` + `shift` + `8` på mac.  
> Firkantparenteser skrives med `Alt gr` + `8` på windows.

<iframe width="100%" height="300" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=for%20elev%20in%20%5B%22Erling%22,%20%22Ada%22,%20%22Caroline%22%5D%3A%0A%20%20%20%20print%28elev%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=311&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

Det er også mulig å bruke for-løkker på lister med tall.
Eksempelet under skriver ut syv-gangen.

```python
print("7-gangen")
for tall in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]:
    gange = 7 * tall
    print(f"7 * {tall} = {gange}")
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="100%" height="400" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=print%28%227-gangen%22%29%0Afor%20tall%20in%20%5B1,%202,%203,%204,%205,%206,%207,%208%20,%209,%2010%5D%3A%0A%20%20%20%20gange%20%3D%207%20*%20tall%0A%20%20%20%20print%28f%227%20*%20%7Btall%7D%20%3D%20%7Bgange%7D%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=311&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

I lengden blir det litt slitsomt å skrive alle tallene i listen.
Vi kan heller bruke den innebygde funksjonen `range(start, slutt_før)`, som gir oss et intervall fra og med `start` opp til `slutt_før`.

> `range()` er en innebygd funksjon som lager en rekke med tall.
> Rekken starter på det første tallet  og slutter ett tall før det andre tallet. Eks: `range(1,3)` gir rekken `1` `2`.
> `range(5,7)` gir rekken `5` `6`.
> Det er også mulig å droppe første tallet i range, slik `range(3)`, da lager range en rekke som starter på `0` og slutter før tallet mellom parantesene. Eks: `range(3)` gir rekken `0` `1` `2`

```python
print("7-gangen")
for tall in range(1,11):
    gange = 7 * tall
    print(f"7 * {tall} = {gange}")
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="100%" height="350" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=print%28%227-gangen%22%29%0Afor%20tall%20in%20range%281,11%29%3A%0A%20%20%20%20gange%20%3D%207%20*%20tall%0A%20%20%20%20print%28f%227%20*%20%7Btall%7D%20%3D%20%7Bgange%7D%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=311&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

Legg merke til at range slutter én før den siste verdien som sendes inn.
Løkken under vil altså telle fra 1 til 10 – ikke fra 1 til 11!

```python
for tall in range(1,11):
    print(tall)
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=for%20i%20in%20range%281,11%29%3A%0A%20%20%20%20print%28i%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

## While vs. for

I mange tilfeller kan vi velge om vi skal bruke *for* eller *while*.
I eksemplet under brukes både en while-løkke og en for-løkke for å telle til 10.

```python
# ---- While ----
i = 1
while i < 11:
    print(i)
    i += 1

# ---- For -----
for i in range(11):
    print(i)
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=%23%20----%20While%20----%0Ai%20%3D%201%0Awhile%20i%20%3C%2011%3A%0A%20%20%20%20print%28i%29%0A%20%20%20%20i%20%2B%3D%201%0A%0A%23%20----%20For%20-----%0Afor%20i%20in%20range%2811%29%3A%0A%20%20%20%20print%28i%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

Selv om det er mulig å bruke begge typene løkker for å løse samme problem, er det noen tilfeller hvor vi oftere bruker *for*, og andre tilfeller hvor vi oftere bruker *while*.
For-løkker brukes som oftest når vi vet hvor mange ganger vi skal gjenta en kode, mens While-løkker brukes oftest når vi ikke vet hvor mange ganger vi skal gjenta en kode.

## Ordbøker og løkker

Hvis man kjører en for-løkke på en ordbok, vil variabelen inne i løkken gå gjennom alle nøklene i ordboken.
I eksempelet under vil variabelen `nøkkel` har verdiene `fornavn`, `etternavn`, `alder` og `klubb`.
Videre brukes variebelen `nøkkel` for å hente ut verdiene fra ordboken i print-en.

```python
fotballspiller = {
    "fornavn": "Ada",
    "etternavn": "Hegerberg",
    "alder": 26,
    "klubb": "Lyon"
}
for nøkkel in fotballspiller:
    print(f"{nøkkel}: {fotballspiller[nøkkel]}")
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=fotballspiller%20%3D%20%7B%0A%20%20%20%20%22fornavn%22%3A%20%22Ada%22,%0A%20%20%20%20%22etternavn%22%3A%20%22Hegerberg%22,%0A%20%20%20%20%22alder%22%3A%2026,%0A%20%20%20%20%22klubb%22%3A%20%22Lyon%22%0A%7D%0Afor%20n%C3%B8kkel%20in%20fotballspiller%3A%0A%20%20%20%20print%28f%22%7Bn%C3%B8kkel%7D%3A%20%7Bfotballspiller%5Bn%C3%B8kkel%5D%7D%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

## Lister med ordbøker

Lister med ordbøker er en veldig vanlig datastruktur, som vi kommer til å bruke mye i IT2.
Under er et eksempel på en liste med ordbøker, der hver ordbok inneholder informasjon om en skuespiller.

```python
skuespillere = [
    {"navn": "Tom Hanks", "alder": 66},
    {"navn": "Meryl Streep", "alder": 73},
    {"navn": "Leonardo DiCaprio", "alder": 48},
    {"navn": "Julia Roberts", "alder": 55},
    {"navn": "Denzel Washington", "alder": 67},
    {"navn": "Nicole Kidman", "alder": 55},
    {"navn": "Brad Pitt", "alder": 59},
    {"navn": "Charlize Theron", "alder": 47},
    {"navn": "Johnny Depp", "alder": 59},
    {"navn": "Emma Stone", "alder": 34},
]
```

Vi kan hente ut en skuepspiller fra listen med firkantparenteser og printe informasjon om skuespilleren.

```python
print(skuespillere[1]) # -> {"navn": "Meryl Streep", "alder": 73}

skuespiller = skuespillere[2] # lager en variabel som peker på ordboken til Leonardi DiCaprio
print(f"{skuespiller['navn']} er {skuespiller['alder']} år gammel") # -> Leonardi DiCaprio er 48 år gammel
```

Vi kan bruke en for løkke for å gå gjennom alle skuespillerne, da vil variabelen inne i for-løkken etter tur peke på hver enkelt ordbok.

```python
for skuespiller in skuespillere:
    print(f"{skuespiller['navn']} er {skuespiller['alder']} år gammel")
```

<details>
<summary>Klikk for Pythontutor</summary>

<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=skuespillere%20%3D%20%5B%0A%20%20%20%20%7B%22navn%22%3A%20%22Tom%20Hanks%22,%20%22alder%22%3A%2066%7D,%0A%20%20%20%20%7B%22navn%22%3A%20%22Meryl%20Streep%22,%20%22alder%22%3A%2073%7D,%0A%20%20%20%20%7B%22navn%22%3A%20%22Leonardo%20DiCaprio%22,%20%22alder%22%3A%2048%7D%0A%5D%0A%0Afor%20skuespiller%20in%20skuespillere%3A%0A%20%20%20%20print%28f%22%7Bskuespiller%5B'navn'%5D%7D%20er%20%7Bskuespiller%5B'alder'%5D%7D%20%C3%A5r%20gammel%22%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

</details>

## Oppgaver

### Oppgave 2.7

> Oppgave 1 fra eksamen V23

Hva er en while-løkke i programmering? (ett riktig svar)

- [ ] en løkke som kjører et bestemt antall ganger
- [ ] en løkke som kjører til en bestemt hendelse intreffer
- [ ] en løkke som kjører så lenge en bestemt betingelse er sann
- [ ] en løkke som kjører så lenge en tilfeldig betingelse er sann

### Oppgave 2.8

> Oppgave 2 fra eksamen H23

Hvilken av de følgende påstandene er riktig om for- og while-løkker innen programmering? Velg riktig alternativ.

- [ ] en for-løkke kan bare brukes med tallsekvenser
- [ ] en while-løkke kjører alltid et bestemt antall ganger
- [ ] en for-løkke er best egnet når du vet hvor mange ganger du vil at løkken skal kjøre
- [ ] en while-løkke kan ikke bruke en teller for å holde rede på hvor mange ganger den har kjørt

### Oppgave 2.9

1. Kopier listen med vinnere av gullballen 👇👇 inn i en python-fil og print ordboken til den første spilleren.
2. Lag en for-løkke som printer navn og nasjonalitet på hver spiller.
3. Utvid koden slik at for-løkken også printer antall gullballer spillerne har vunnet.

<details>
<summary>Klikk for startkode</summary>

```python
gullballen = [
  {
    "navn": "Luís Figo",
    "år": [2000],
    "nasjonalitet": "Portugal",
    "klubber": ["Real Madrid"]
  },
  {
    "navn": "Michael Owen",
    "år": [2001],
    "nasjonalitet": "England",
    "klubber": ["Liverpool"]
  },
  {
    "navn": "Ronaldo",
    "år": [2002],
    "nasjonalitet": "Brasil",
    "klubber": ["Real Madrid"]
  },
  {
    "navn": "Pavel Nedvěd",
    "år": [2003],
    "nasjonalitet": "Tsjekkia",
    "klubber": ["Juventus"]
  },
  {
    "navn": "Andriy Shevchenko",
    "år": [2004],
    "nasjonalitet": "Ukraina",
    "klubber": ["Milan"]
  },
  {
    "navn": "Ronaldinho",
    "år": [2005],
    "nasjonalitet": "Brasil",
    "klubber": ["Barcelona"]
  },
  {
    "navn": "Fabio Cannavaro",
    "år": [2006],
    "nasjonalitet": "Italia",
    "klubber": ["Real Madrid"]
  },
  {
    "navn": "Kaká",
    "år": [2007],
    "nasjonalitet": "Brasil",
    "klubber": ["Milan"]
  },
  {
    "navn": "Cristiano Ronaldo",
    "år": [2008, 2013, 2014, 2016, 2017],
    "nasjonalitet": "Portugal",
    "klubber": ["Manchester United", "Real Madrid"]
  },
  {
    "navn": "Lionel Messi",
    "år": [2009, 2010, 2011, 2012, 2015, 2019, 2021, 2023],
    "nasjonalitet": "Argentina",
    "klubber": ["Barcelona", "Paris Saint-Germain F.C.", "Inter Miami"]
  },
  {
    "navn": "Luka Modric",
    "år": [2018],
    "nasjonalitet": "Kroatia",
    "klubber": ["Real Madrid"]
  },
  {
    "navn": "Karim Benzema",
    "år": [2022],
    "nasjonalitet": "Frankrike",
    "klubber": ["Real Madrid"]
  }
]
```
</details>
